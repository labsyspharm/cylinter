---
layout: default-cylinter
title: Input
nav_order: 1
parent: Workflow
---

{: .no_toc }

<details open markdown="block">
  <summary>
    Table of contents
  </summary>
  {: .text-delta }
1. TOC
{:toc}
</details>





CyLinter supports the reading of **whole slide image (WSI)** or **tissue microarray (TMA)** multiplex imaging data generated by the [MCMICRO](https://mcmicro.org) image-processing pipeline in its native output directory structure. However, the program can analyze any multiplex imaging data so long as they conform to the correct file formats and a standard input file structure: multiplex images (TIFF/OME-TIFF), cell segmentation outlines (TIFF/OME-TIFF), cell ID masks (TIFF/OME-TIFF), and single-cell spatial feature tables (CSV) with a cell segmentation area column labeled "Area".

# Input directory structure

In the below example, `<filename>` corresponds to the names of the different files used in a particular study.

``` bash
<input_dir>
├── config.yml
├── csv/
│   └── unmicst-<filename>.csv
├── markers.csv
├── mask/
│   └── <filename>.ome.tif (or .tif)
├── seg/
│   └── <filename>.ome.tif (or .tif)
└── tif/
    └── <sample-name>.ome.tif (or .tif)
```

<br/>

# YAML configuration file

`config.yml` is the YAML configuration file passed to the `cylinter` command on program execution. It specifies general program configuration settings and module-specific parameters for a given analysis and should be stored in the top-level CyLinter [input directory](#input-directory-structure). The `config.yml` file downloaded with the program is pre-configured for use with [Example Data]({{ site.baseurl }}/exemplar) used to demonstrate CyLinter.

## General configurations

| Parameter | Default | Description |
| --- | --- | --- |
| `inDir` | /Users/user/Desktop/cylinter_demo | CyLinter input directory. Contains multi-channel image files (TIFF/OME-TIFF), segmentation outline files (TIFF/OME-TIFF), cell ID masks (TIFF/OME-TIFF), corresponding single-cell spatial feature tables (CSV), `config.yml`, and `markers.csv` organized according to the [input directory structure](#input-directory-structure) or as native output from the [MCMICRO](https://mcmicro.org/io.html#directory-structure) image-processing pipeline. |
| `outDir` | /Users/user/Desktop/cylinter_demo/output |CyLinter output directory path; created if it does not already exist. |
| `sampleMetadata` | "Filename": <br />  ["15", "Glioblastoma", "GBM", "CANCER-TRUE", 1] | Sample metadata dictionary: keys = Filenames (str); values = list of strings. First elements: sample names (str). Second elements: descriptive text of experimental condition (str). Third elements: abbreviation of experimental condition (str). Fourth elements: comma-delimited string of arbitrary binary declarations for computing t-statistics between two groups of samples (str dytpe). Fifth elements: replicate number specifying biological or technical replicates (int). |
| `samplesToExclude` | [ ] | (list of strs) Sample names (i.e., first elements in `sampleMetadata` values) to exclude from analysis. |
| `markersToExclude` | [ ] | (list of strs) Markers to exclude from analysis (not including nuclear dyes). |

## Module configurations
For module-specific configurations, see [Modules]({{ site.baseurl }}/modules)


<br/>

# Markers.csv
`markers.csv` is a standard input file into the MCMICRO image-processing pipeline that is also used by CyLinter as immunomarker metadata. The file takes the following format and must be included in the top-level CyLinter [input directory](#input-directory-structure):

```
channel_number,cycle_number,marker_name
1,1,<DNA1>
2,1,<abx1>
3,1,<abx2>
4,1,<abx3>
5,2,<DNA2>
6,2,<abx4>
7,2,<abx5>
8,2,<abx6>
.
.
.
```
* Additional metadata columns can be present in the file, but are not currently read by CyLinter.
